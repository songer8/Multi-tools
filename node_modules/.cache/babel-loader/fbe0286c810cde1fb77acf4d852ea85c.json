{"ast":null,"code":"var _jsxFileName = \"/Users/songer/projects/my-app/src/components/dictionary/Dictionary.jsx\";\nimport React, { Component } from 'react';\nimport MD5 from './js-sdk/md5';\nimport fetchJsonp from 'fetch-jsonp';\nimport \"./dictionary.scss\";\n\nclass Dictionary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n\n    this.genTranslate = () => {\n      var appid = '20200709000516150';\n      var key = 'n3Ts5qaI2yDcgZTbvXsV';\n      var salt = new Date().getTime();\n      var query = this.dicInputRef.current.value; // 多个query可以用\\n连接  如 query='apple\\norange\\nbanana\\npear'\n\n      var from = 'zh';\n      var to = 'en';\n      var str1 = appid + query + salt + key;\n      var sign = MD5(str1);\n      fetchJsonp(`http://api.fanyi.baidu.com/api/trans/vip/translate?q=${query}&appid=${appid}&salt=${salt}&from=${from}&to=${to}&sign=${sign}`).then(function (response) {\n        return response.json();\n      }).then(json => {\n        let result = json.trans_result[0].dst;\n        this.setState({\n          result: result\n        });\n      }).catch(function (ex) {\n        console.log('parsing failed', ex);\n      });\n    };\n\n    this.dicInputRef = React.createRef();\n    this.dicOutputRef = React.createRef();\n    this.state = {\n      result: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"translate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dic-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dicInputWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      className: \"language\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\\u4E2D\\u7FFB\\u82F1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 25\n      }\n    }, \"\\u4E2D\\u7FFB\\u82F1\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\\u82F1\\u7FFB\\u4E2D\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 25\n      }\n    }, \"\\u82F1\\u7FFB\\u4E2D\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\\u4E2D\\u7FFB\\u65E5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 25\n      }\n    }, \"\\u4E2D\\u7FFB\\u65E5\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\\u65E5\\u7FFB\\u4E2D\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 25\n      }\n    }, \"\\u65E5\\u7FFB\\u4E2D\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"dicInput\",\n      ref: this.dicInputRef,\n      placeholder: \"\\u5728\\u6B64\\u8F93\\u5165\\u8981\\u7FFB\\u8BD1\\u7684\\u5355\\u8BCD\\u6216\\u8005\\u6587\\u5B57\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"clickDicBtn\",\n      onClick: this.genTranslate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, \"\\u7FFB\\u8BD1\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dicOutput\",\n      ref: this.dicOutputRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, JSON.stringify(this.state.result)));\n  }\n\n}\n\nexport default Dictionary;","map":{"version":3,"sources":["/Users/songer/projects/my-app/src/components/dictionary/Dictionary.jsx"],"names":["React","Component","MD5","fetchJsonp","Dictionary","constructor","props","state","genTranslate","appid","key","salt","Date","getTime","query","dicInputRef","current","value","from","to","str1","sign","then","response","json","result","trans_result","dst","setState","catch","ex","console","log","createRef","dicOutputRef","render","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport MD5 from './js-sdk/md5';\nimport fetchJsonp from 'fetch-jsonp'\n\nimport \"./dictionary.scss\";\n\nclass Dictionary extends Component {\n    state = {}\n    constructor(props) {\n        super(props);\n        this.dicInputRef = React.createRef();\n        this.dicOutputRef = React.createRef();\n        this.state = { result: '' }\n    }\n\n    genTranslate = () => {\n        var appid = '20200709000516150';\n        var key = 'n3Ts5qaI2yDcgZTbvXsV';\n        var salt = (new Date).getTime();\n        var query = this.dicInputRef.current.value;\n        // 多个query可以用\\n连接  如 query='apple\\norange\\nbanana\\npear'\n        var from = 'zh';\n        var to = 'en';\n        var str1 = appid + query + salt + key;\n        var sign = MD5(str1)\n\n        fetchJsonp(`http://api.fanyi.baidu.com/api/trans/vip/translate?q=${query}&appid=${appid}&salt=${salt}&from=${from}&to=${to}&sign=${sign}`)\n            .then(function (response) {\n                return response.json()\n            }).then((json) => {\n                let result = json.trans_result[0].dst;\n                this.setState({ result: result });\n            }).catch(function (ex) {\n                console.log('parsing failed', ex)\n            })\n    }\n    render() {\n        return <div className=\"translate\">\n            <div className=\"dic-wrapper\">\n                <div className=\"dicInputWrapper\">\n                    <select className=\"language\" >\n                        <option value=\"中翻英\">中翻英</option>\n                        <option value=\"英翻中\">英翻中</option>\n                        <option value=\"中翻日\">中翻日</option>\n                        <option value=\"日翻中\">日翻中</option>\n                    </select>\n                    <input type=\"text\" className=\"dicInput\" ref={this.dicInputRef} placeholder=\"在此输入要翻译的单词或者文字\" />\n                </div>\n                <button className=\"clickDicBtn\" onClick={this.genTranslate} >翻译</button>\n            </div>\n            <div className=\"dicOutput\" ref={this.dicOutputRef}>\n                {JSON.stringify(this.state.result)}\n            </div>\n        </div>;\n    }\n}\n\nexport default Dictionary;"]},"metadata":{},"sourceType":"module"}