{"ast":null,"code":"var _jsxFileName = \"/Users/songer/projects/my-app/src/components/dictionary/Dictionary.jsx\";\nimport React, { Component } from 'react';\nimport MD5 from './js-sdk/md5';\nimport fetchJsonp from 'fetch-jsonp';\nimport \"./dictionary.scss\";\n\nclass Dictionary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n\n    this.genTranslate = () => {\n      var appid = '20200709000516150';\n      var key = 'n3Ts5qaI2yDcgZTbvXsV';\n      var salt = new Date().getTime();\n      var query = this.dicInputRef.current.value; // 多个query可以用\\n连接  如 query='apple\\norange\\nbanana\\npear'\n\n      var from = 'zh';\n      var to = 'en';\n      var str1 = appid + query + salt + key;\n      var sign = MD5(str1);\n      fetchJsonp(`http://api.fanyi.baidu.com/api/trans/vip/translate?q=${query}&appid=${appid}&salt=${salt}&from=${from}&to=${to}&sign=${sign}`).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        this.setState({\n          result: json\n        });\n      }).catch(function (ex) {\n        console.log('parsing failed', ex);\n      });\n    };\n\n    this.dicInputRef = React.createRef();\n    this.dicOutputRef = React.createRef();\n    this.state = {\n      result: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"dicInput\",\n      ref: this.dicInputRef,\n      placeholder: \"\\u5728\\u6B64\\u8F93\\u5165\\u8981\\u7FFB\\u8BD1\\u7684\\u5355\\u8BCD\\u6216\\u8005\\u6587\\u5B57\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"clickDicBtn\",\n      onClick: this.genTranslate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }\n    }, \"\\u7FFB\\u8BD1\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dicOutput\",\n      ref: this.dicOutputRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }\n    }, this.state.result));\n  }\n\n}\n\nexport default Dictionary;","map":{"version":3,"sources":["/Users/songer/projects/my-app/src/components/dictionary/Dictionary.jsx"],"names":["React","Component","MD5","fetchJsonp","Dictionary","constructor","props","state","genTranslate","appid","key","salt","Date","getTime","query","dicInputRef","current","value","from","to","str1","sign","then","response","json","setState","result","catch","ex","console","log","createRef","dicOutputRef","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,UAAP,MAAuB,aAAvB;AAEA,OAAO,mBAAP;;AAEA,MAAMC,UAAN,SAAyBH,SAAzB,CAAmC;AAE/BI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AADe,SADnBC,KACmB,GADX,EACW;;AAAA,SAOnBC,YAPmB,GAOJ,MAAM;AACjB,UAAIC,KAAK,GAAG,mBAAZ;AACA,UAAIC,GAAG,GAAG,sBAAV;AACA,UAAIC,IAAI,GAAI,IAAIC,IAAJ,EAAD,CAAWC,OAAX,EAAX;AACA,UAAIC,KAAK,GAAG,KAAKC,WAAL,CAAiBC,OAAjB,CAAyBC,KAArC,CAJiB,CAKjB;;AACA,UAAIC,IAAI,GAAG,IAAX;AACA,UAAIC,EAAE,GAAG,IAAT;AACA,UAAIC,IAAI,GAAGX,KAAK,GAAGK,KAAR,GAAgBH,IAAhB,GAAuBD,GAAlC;AACA,UAAIW,IAAI,GAAGnB,GAAG,CAACkB,IAAD,CAAd;AAEAjB,MAAAA,UAAU,CAAE,wDAAuDW,KAAM,UAASL,KAAM,SAAQE,IAAK,SAAQO,IAAK,OAAMC,EAAG,SAAQE,IAAK,EAA9H,CAAV,CACKC,IADL,CACU,UAAUC,QAAV,EAAoB;AACtB,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,OAHL,EAGOF,IAHP,CAGY,UAAUE,IAAV,EAAgB;AACpB,aAAKC,QAAL,CAAc;AAACC,UAAAA,MAAM,EAACF;AAAR,SAAd;AACH,OALL,EAKOG,KALP,CAKa,UAAUC,EAAV,EAAc;AACnBC,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,EAA9B;AACH,OAPL;AAQH,KA1BkB;;AAEf,SAAKb,WAAL,GAAmBf,KAAK,CAAC+B,SAAN,EAAnB;AACA,SAAKC,YAAL,GAAoBhC,KAAK,CAAC+B,SAAN,EAApB;AACA,SAAKxB,KAAL,GAAW;AAACmB,MAAAA,MAAM,EAAC;AAAR,KAAX;AACH;;AAsBDO,EAAAA,MAAM,GAAG;AACL,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACH;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAC,UAA7B;AAAwC,MAAA,GAAG,EAAE,KAAKlB,WAAlD;AAA+D,MAAA,WAAW,EAAC,sFAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADG,eAEH;AAAQ,MAAA,SAAS,EAAC,aAAlB;AAAgC,MAAA,OAAO,EAAE,KAAKP,YAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFG,eAGH;AAAK,MAAA,SAAS,EAAC,WAAf;AAA2B,MAAA,GAAG,EAAE,KAAKwB,YAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKzB,KAAL,CAAWmB,MADhB,CAHG,CAAP;AAOH;;AArC8B;;AAwCnC,eAAetB,UAAf","sourcesContent":["import React, { Component } from 'react';\nimport MD5 from './js-sdk/md5';\nimport fetchJsonp from 'fetch-jsonp'\n\nimport \"./dictionary.scss\";\n\nclass Dictionary extends Component {\n    state = {}\n    constructor(props) {\n        super(props);\n        this.dicInputRef = React.createRef();\n        this.dicOutputRef = React.createRef();\n        this.state={result:''}\n    }\n\n    genTranslate = () => {\n        var appid = '20200709000516150';\n        var key = 'n3Ts5qaI2yDcgZTbvXsV';\n        var salt = (new Date).getTime();\n        var query = this.dicInputRef.current.value;\n        // 多个query可以用\\n连接  如 query='apple\\norange\\nbanana\\npear'\n        var from = 'zh';\n        var to = 'en';\n        var str1 = appid + query + salt + key;\n        var sign = MD5(str1)\n\n        fetchJsonp(`http://api.fanyi.baidu.com/api/trans/vip/translate?q=${query}&appid=${appid}&salt=${salt}&from=${from}&to=${to}&sign=${sign}`)\n            .then(function (response) {\n                return response.json()\n            }).then(function (json) {\n                this.setState({result:json});\n            }).catch(function (ex) {\n                console.log('parsing failed', ex)\n            })\n    }\n    render() {\n        return <div>\n            <input type=\"text\" className=\"dicInput\" ref={this.dicInputRef} placeholder=\"在此输入要翻译的单词或者文字\" />\n            <button className=\"clickDicBtn\" onClick={this.genTranslate} >翻译</button>\n            <div className=\"dicOutput\" ref={this.dicOutputRef}>\n                {this.state.result}\n            </div>\n        </div>;\n    }\n}\n\nexport default Dictionary;"]},"metadata":{},"sourceType":"module"}